<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Encrypted (Auto) — Loading</title>
<style>
  :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{display:flex;align-items:center;justify-content:center;height:100vh;margin:0;background:#071029;color:#e6eef8}
  .card{width:min(980px,96%);background:linear-gradient(180deg,#071029 0%, #0b1830 100%);padding:20px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
  .loader{height:8px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;position:relative}
  .loader>i{position:absolute;left:-30%;top:0;height:100%;width:30%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.18), transparent);animation:move 1.2s linear infinite}
  @keyframes move{from{left:-30%}to{left:130%}}
  iframe{width:100%;height:75vh;border:0;border-radius:8px;margin-top:16px;background:#fff}
  .muted{color:#9fb0d6;font-size:13px}
</style></head>
<body>
<div class="card" id="card">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div>
      <h3 style="margin:0 0 6px">Encrypted — Auto-decrypt</h3>
      <div class="muted">Halaman ini akan otomatis menampilkan konten. (Note: password tersimpan di file — bukan proteksi kuat)</div>
    </div>
    <div style="width:200px">
      <div class="loader"><i></i></div>
      <div id="st" class="muted" style="text-align:right;margin-top:8px">Preparing…</div>
    </div>
  </div>

  <iframe id="viewer" sandbox="allow-same-origin allow-scripts allow-forms" class="hidden"></iframe>
</div>

<script id="payload" type="application/json">{"v":1,"iters":150000,"salt":"KB90y3gZEFopaFRcCoZaaw==","iv":"L2AFVlQ4nQHl4l7r","tag":"mdFLXMv65xroZS906BVWsA==","data":"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","origFilename":"xata.html","autoKey":"eGF0YSBicm93"}</script>

<script>
(async function(){
  const p = JSON.parse(document.getElementById('payload').textContent);
  const st = document.getElementById('st');
  const viewer = document.getElementById('viewer');

  function b64ToBuf(b64){ return Uint8Array.from(atob(b64), c => c.charCodeAt(0)); }
  function bufToStr(buf){ return new TextDecoder().decode(buf); }
  function atobUtf8(b64) { try { return decodeURIComponent(escape(atob(b64))); } catch(e){ return atob(b64); } }

  async function deriveKey(password, saltB, iterations) {
    const enc = new TextEncoder();
    const keyMaterial = await window.crypto.subtle.importKey('raw', enc.encode(password), {name:'PBKDF2'}, false, ['deriveKey']);
    return window.crypto.subtle.deriveKey({name:'PBKDF2', salt: saltB, iterations: iterations, hash:'SHA-256'}, keyMaterial, {name:'AES-GCM', length:256}, false, ['decrypt']);
  }

  async function decryptPkgWithPassword(password) {
    const salt = b64ToBuf(p.salt);
    const iv = b64ToBuf(p.iv);
    const tag = b64ToBuf(p.tag);
    const data = b64ToBuf(p.data);
    const combined = new Uint8Array(data.length + tag.length);
    combined.set(data,0); combined.set(tag,data.length);

    const key = await deriveKey(password, salt, p.iters || 150000);
    const plain = await window.crypto.subtle.decrypt({name:'AES-GCM', iv: iv, tagLength: 128}, key, combined.buffer);
    return bufToStr(new Uint8Array(plain));
  }

  try {
    st.textContent = 'Deriving key…';
    // if autoKey present, use it; autoKey is base64(password)
    let password = null;
    if (p.autoKey) {
      try {
        // try decode utf8-safe
        password = atobUtf8(p.autoKey);
      } catch (e) {
        password = atob(p.autoKey);
      }
    } else {
      // No autoKey — cannot auto-decrypt
      throw new Error('No autoKey embedded for auto-decrypt.');
    }

    // small wait for animation
    await new Promise(r => setTimeout(r, 140));
    st.textContent = 'Decrypting…';

    const html = await decryptPkgWithPassword(password);
    st.textContent = 'Rendering…';

    // render into iframe
    viewer.classList.remove('hidden');
    viewer.srcdoc = html;

    // hide loader text
    st.textContent = 'Done';
  } catch (err) {
    console.error(err);
    st.textContent = 'Failed to auto-decrypt — file may be corrupted.';
    // show an error fallback (allow user to enter password manually)
    const fallback = document.createElement('div');
    fallback.style.marginTop='12px';
    fallback.innerHTML = '<div style="color:#ffb4b4">Auto-decrypt gagal. Jika kamu memiliki password, buka console atau gunakan versi manual.</div>';
    document.getElementById('card').appendChild(fallback);
  }
})();
</script>
</body>
</html>    <div style="text-align:center;margin-top:8px;color:#cfe6ff;font-size:13px" id="sttext">Processing…</div>
  </div>

  <iframe id="viewer" class="contentFrame hidden" sandbox="allow-same-origin allow-scripts allow-forms"></iframe>
</div>

<!-- Embedded encrypted package (JSON) -->
<script id="payload" type="application/json">{"v":1,"iters":150000,"salt":"GEQ5Kf2Lu+p0EoJ14LFrqQ==","iv":"zCYbZQ0dIYbkO7yb","tag":"6KhUavqZHrWJpc4/Hq9HlQ==","data":"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","origFilename":"xata.html"}</script>

<script>
(async function(){
  const payloadEl = document.getElementById('payload');
  const pkg = JSON.parse(payloadEl.textContent);

  const pwInput = document.getElementById('pw');
  const goBtn = document.getElementById('go');
  const status = document.getElementById('status');
  const sttext = document.getElementById('sttext');
  const viewer = document.getElementById('viewer');

  function b64ToBuf(b64){ return Uint8Array.from(atob(b64), c => c.charCodeAt(0)); }
  function bufToStr(buf){ return new TextDecoder().decode(buf); }

  async function deriveKey(password, saltB, iterations) {
    const enc = new TextEncoder();
    const keyMaterial = await window.crypto.subtle.importKey(
      'raw', enc.encode(password), {name:'PBKDF2'}, false, ['deriveKey']
    );
    return window.crypto.subtle.deriveKey(
      {name:'PBKDF2', salt: saltB, iterations: iterations, hash:'SHA-256'},
      keyMaterial,
      {name:'AES-GCM', length:256},
      false,
      ['decrypt']
    );
  }

  async function decryptPkg(password) {
    try {
      const salt = b64ToBuf(pkg.salt);
      const iv = b64ToBuf(pkg.iv);
      const tag = b64ToBuf(pkg.tag);
      const data = b64ToBuf(pkg.data);

      const combined = new Uint8Array(data.length + tag.length);
      combined.set(data, 0);
      combined.set(tag, data.length);

      const key = await deriveKey(password, salt, pkg.iters || 150000);
      const plain = await window.crypto.subtle.decrypt(
        {name:'AES-GCM', iv: iv, tagLength: 128},
        key,
        combined.buffer
      );
      return bufToStr(new Uint8Array(plain));
    } catch (e) {
      throw e;
    }
  }

  goBtn.addEventListener('click', async () => {
    const pw = pwInput.value || '';
    if (!pw) { alert('Masukkan password'); return; }
    status.classList.remove('hidden');
    viewer.classList.add('hidden');

    try {
      sttext.textContent = 'Deriving key…';
      await new Promise(r => setTimeout(r, 120));

      sttext.textContent = 'Decrypting content…';
      const html = await decryptPkg(pw);
      sttext.textContent = 'Rendering…';

      viewer.classList.remove('hidden');
      viewer.srcdoc = html;

      document.getElementById('card').querySelectorAll('input,button,.note').forEach(el => el.classList.add('hidden'));
      status.classList.add('hidden');
    } catch (err) {
      console.error(err);
      status.classList.add('hidden');
      alert('Password salah atau file korup.');
    }
  });

  pwInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') goBtn.click(); });
})();
</script>
</body>
</html>
